{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams}from'react-router-dom';import{menuAPI}from'../services/api';import RestaurantHeader from'./RestaurantHeader';import LoadingSpinner from'./LoadingSpinner';import ErrorMessage from'./ErrorMessage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MenuPage=()=>{const{slug}=useParams();const[restaurant,setRestaurant]=useState(null);const[categories,setCategories]=useState({});// menu items grouped by category\nconst[categoryMeta,setCategoryMeta]=useState({});// meta returned with menu\nconst[categoryList,setCategoryList]=useState([]);// full category list from API\nconst[categoryOrder,setCategoryOrder]=useState([]);// category order from menu API\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedCategory,setSelectedCategory]=useState(null);const[searchTerm,setSearchTerm]=useState('');const fetchMenuData=useCallback(async()=>{try{setLoading(true);setError(null);const response=await menuAPI.getMenu(slug);if(response.success){setRestaurant(response.restaurant);setCategories(response.categories);setCategoryMeta(response.categoryMeta||{});setCategoryOrder(response.categoryOrder||[]);// After we know the restaurant id, fetch the full category list so we show all\ntry{const res=await fetch(\"http://localhost:5000/api/categories?restaurant_id=\".concat(response.restaurant.id));const data=await res.json();if(data&&data.success){setCategoryList(Array.isArray(data.categories)?data.categories:[]);}}catch(_){}}else{setError(response.message||'Failed to load menu');}}catch(err){setError(err.message||'Failed to load menu');}finally{setLoading(false);}},[slug]);useEffect(()=>{fetchMenuData();},[fetchMenuData]);if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}if(error){return/*#__PURE__*/_jsx(ErrorMessage,{message:error});}if(!restaurant){return/*#__PURE__*/_jsx(ErrorMessage,{message:\"Restaurant not found\"});}// Category images mapping (you can customize these)\nconst categoryImages={'desserts':'https://images.unsplash.com/photo-1551024506-0bccd828d307?w=800&q=80','breakfasts':'https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?w=800&q=80','hot meals':'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80','salads':'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80','beverages':'https://images.unsplash.com/photo-1544145945-f90425340c7e?w=800&q=80','starters':'https://images.unsplash.com/photo-1541529086526-db283c563270?w=800&q=80'};const getFilteredItems=()=>{if(!selectedCategory)return[];const items=categories[selectedCategory]||[];if(!searchTerm)return items;return items.filter(item=>item.name.toLowerCase().includes(searchTerm.toLowerCase())||(item.description||'').toLowerCase().includes(searchTerm.toLowerCase()));};const filteredItems=getFilteredItems();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(RestaurantHeader,{restaurant:restaurant}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-6 max-w-md\",children:!selectedCategory?/*#__PURE__*//* Category Grid View */_jsxs(\"div\",{className:\"space-y-4 p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-4 text-center\",children:\"Menu Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-4\",children:(categoryOrder.length?categoryOrder.map(name=>({name})):categoryList.length?categoryList:Object.keys(categories).map(name=>({name}))).map(cat=>{const categoryName=cat.name||cat;const items=categories[categoryName]||[];const catMeta=categoryMeta[categoryName]||{};const imageUrl=cat.image_url||catMeta.image_url||categoryImages[categoryName.toLowerCase()]||'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80';return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(categoryName),className:\"relative cursor-pointer rounded-3xl overflow-hidden mb-5 h-48 shadow-md hover:shadow-xl transition-all\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:categoryName,className:\"absolute inset-0 w-full h-full object-cover z-0\",onError:e=>{e.currentTarget.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80';}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/40 z-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 z-20 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-2xl uppercase font-semibold drop-shadow-lg\",style:{textShadow:'1px 1px 2px rgba(0,0,0,0.5)'},children:categoryName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white/90 text-sm mt-1 drop-shadow-lg\",children:[items.length,\" \",items.length===1?'item':'items']})]})})]},categoryName);})})]}):/*#__PURE__*//* Items List View */_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedCategory(null);setSearchTerm('');},className:\"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Back\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-extrabold text-gray-900 flex-1 text-right uppercase tracking-wide\",children:selectedCategory})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-full bg-white border border-gray-200 px-4 py-2 shadow-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"flex-1 outline-none text-gray-700\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:filteredItems.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12 bg-white rounded-xl\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No items found\"})}):filteredItems.map(item=>/*#__PURE__*/_jsx(MenuItem,{item:item},item.id))})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-white border-t border-gray-200 mt-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Powered by \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600\",children:\"SmartMenu\"})]})})})})]});};// MenuItem Component - Compact card\nconst MenuItem=_ref=>{let{item}=_ref;const[imageError,setImageError]=useState(false);const imageUrl=item.image_url||'';const hasImage=imageUrl&&!imageError;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 p-4\",children:[hasImage?/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:item.name,className:\"w-20 h-20 rounded-lg object-cover flex-shrink-0\",onError:()=>setImageError(true),loading:\"lazy\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base font-semibold text-gray-900\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-green-600 whitespace-nowrap\",children:[\"\\u20B9\",parseFloat(item.price).toFixed(2)]})]}),item.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-2\",children:item.description}),!item.is_available&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-block mt-2 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700\",children:\"Unavailable\"})]})]})});};export default MenuPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","menuAPI","RestaurantHeader","LoadingSpinner","ErrorMessage","jsx","_jsx","jsxs","_jsxs","MenuPage","slug","restaurant","setRestaurant","categories","setCategories","categoryMeta","setCategoryMeta","categoryList","setCategoryList","categoryOrder","setCategoryOrder","loading","setLoading","error","setError","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","fetchMenuData","response","getMenu","success","res","fetch","concat","id","data","json","Array","isArray","_","message","err","categoryImages","getFilteredItems","items","filter","item","name","toLowerCase","includes","description","filteredItems","className","children","length","map","Object","keys","cat","categoryName","catMeta","imageUrl","image_url","onClick","src","alt","onError","e","currentTarget","style","textShadow","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","value","onChange","target","MenuItem","_ref","imageError","setImageError","hasImage","parseFloat","price","toFixed","is_available"],"sources":["C:/menu card/frontend/src/components/MenuPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { menuAPI } from '../services/api';\nimport RestaurantHeader from './RestaurantHeader';\nimport LoadingSpinner from './LoadingSpinner';\nimport ErrorMessage from './ErrorMessage';\n\nconst MenuPage = () => {\n  const { slug } = useParams();\n  const [restaurant, setRestaurant] = useState(null);\n  const [categories, setCategories] = useState({}); // menu items grouped by category\n  const [categoryMeta, setCategoryMeta] = useState({}); // meta returned with menu\n  const [categoryList, setCategoryList] = useState([]); // full category list from API\n  const [categoryOrder, setCategoryOrder] = useState([]); // category order from menu API\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const fetchMenuData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await menuAPI.getMenu(slug);\n      \n      if (response.success) {\n        setRestaurant(response.restaurant);\n        setCategories(response.categories);\n        setCategoryMeta(response.categoryMeta || {});\n        setCategoryOrder(response.categoryOrder || []);\n        // After we know the restaurant id, fetch the full category list so we show all\n        try {\n          const res = await fetch(`http://localhost:5000/api/categories?restaurant_id=${response.restaurant.id}`);\n          const data = await res.json();\n          if (data && data.success) {\n            setCategoryList(Array.isArray(data.categories) ? data.categories : []);\n          }\n        } catch (_) {}\n      } else {\n        setError(response.message || 'Failed to load menu');\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to load menu');\n    } finally {\n      setLoading(false);\n    }\n  }, [slug]);\n\n  useEffect(() => {\n    fetchMenuData();\n  }, [fetchMenuData]);\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  if (error) {\n    return <ErrorMessage message={error} />;\n  }\n\n  if (!restaurant) {\n    return <ErrorMessage message=\"Restaurant not found\" />;\n  }\n\n  // Category images mapping (you can customize these)\n  const categoryImages = {\n    'desserts': 'https://images.unsplash.com/photo-1551024506-0bccd828d307?w=800&q=80',\n    'breakfasts': 'https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?w=800&q=80',\n    'hot meals': 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80',\n    'salads': 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80',\n    'beverages': 'https://images.unsplash.com/photo-1544145945-f90425340c7e?w=800&q=80',\n    'starters': 'https://images.unsplash.com/photo-1541529086526-db283c563270?w=800&q=80',\n  };\n\n  const getFilteredItems = () => {\n    if (!selectedCategory) return [];\n    const items = categories[selectedCategory] || [];\n    if (!searchTerm) return items;\n    return items.filter(item => \n      item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (item.description || '').toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  };\n\n  const filteredItems = getFilteredItems();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <RestaurantHeader restaurant={restaurant} />\n      \n      <div className=\"container mx-auto px-4 py-6 max-w-md\">\n        {!selectedCategory ? (\n          /* Category Grid View */\n          <div className=\"space-y-4 p-4\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4 text-center\">Menu Categories</h2>\n            <div className=\"grid grid-cols-1 gap-4\">\n              {(categoryOrder.length ? categoryOrder.map(name => ({ name })) : (categoryList.length ? categoryList : Object.keys(categories).map(name => ({ name })))).map((cat) => {\n                const categoryName = cat.name || cat;\n                const items = categories[categoryName] || [];\n                const catMeta = categoryMeta[categoryName] || {};\n                const imageUrl = (cat.image_url || catMeta.image_url || categoryImages[categoryName.toLowerCase()] || 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80');\n                return (\n                  <button\n                    key={categoryName}\n                    onClick={() => setSelectedCategory(categoryName)}\n                    className=\"relative cursor-pointer rounded-3xl overflow-hidden mb-5 h-48 shadow-md hover:shadow-xl transition-all\"\n                  >\n                    {/* Background image */}\n                    <img src={imageUrl} alt={categoryName} className=\"absolute inset-0 w-full h-full object-cover z-0\" onError={(e)=>{e.currentTarget.src='https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80';}} />\n                    {/* Dark overlay for readability */}\n                    <div className=\"absolute inset-0 bg-black/40 z-10\" />\n                    {/* Centered text */}\n                    <div className=\"absolute inset-0 z-20 flex items-center justify-center\">\n                      <div className=\"text-center\">\n                        <div className=\"text-white text-2xl uppercase font-semibold drop-shadow-lg\" style={{textShadow:'1px 1px 2px rgba(0,0,0,0.5)'}}>{categoryName}</div>\n                        <div className=\"text-white/90 text-sm mt-1 drop-shadow-lg\">{items.length} {items.length === 1 ? 'item' : 'items'}</div>\n                      </div>\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        ) : (\n          /* Items List View */\n          <div className=\"space-y-4\">\n            {/* Back and Title - mobile friendly */}\n            <div className=\"flex items-center gap-3 mb-2\">\n              <button\n                onClick={() => { setSelectedCategory(null); setSearchTerm(''); }}\n                className=\"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200\"\n              >\n                <span className=\"text-lg\">←</span>\n                <span className=\"font-semibold\">Back</span>\n              </button>\n              <h2 className=\"text-2xl font-extrabold text-gray-900 flex-1 text-right uppercase tracking-wide\">{selectedCategory}</h2>\n            </div>\n\n            {/* Search Bar */}\n            <div className=\"rounded-full bg-white border border-gray-200 px-4 py-2 shadow-sm flex items-center gap-2\">\n              <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n              <input\n                type=\"text\"\n                placeholder=\"Search\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"flex-1 outline-none text-gray-700\"\n              />\n            </div>\n\n            {/* Items List */}\n            <div className=\"space-y-3\">\n              {filteredItems.length === 0 ? (\n                <div className=\"text-center py-12 bg-white rounded-xl\">\n                  <p className=\"text-gray-500\">No items found</p>\n                </div>\n              ) : (\n                filteredItems.map((item) => (\n                  <MenuItem key={item.id} item={item} />\n                ))\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      <footer className=\"bg-white border-t border-gray-200 mt-12\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-500\">\n              Powered by <span className=\"font-semibold text-blue-600\">SmartMenu</span>\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\n// MenuItem Component - Compact card\nconst MenuItem = ({ item }) => {\n  const [imageError, setImageError] = useState(false);\n  const imageUrl = item.image_url || '';\n  const hasImage = imageUrl && !imageError;\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all\">\n      <div className=\"flex gap-4 p-4\">\n        {/* Image */}\n        {hasImage ? (\n          <img\n            src={imageUrl}\n            alt={item.name}\n            className=\"w-20 h-20 rounded-lg object-cover flex-shrink-0\"\n            onError={() => setImageError(true)}\n            loading=\"lazy\"\n          />\n        ) : (\n          <div className=\"w-20 h-20 rounded-lg bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center flex-shrink-0\">\n            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n          </div>\n        )}\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start justify-between gap-2 mb-1\">\n            <h3 className=\"text-base font-semibold text-gray-900\">{item.name}</h3>\n            <span className=\"text-lg font-bold text-green-600 whitespace-nowrap\">₹{parseFloat(item.price).toFixed(2)}</span>\n          </div>\n          \n          {item.description && (\n            <p className=\"text-sm text-gray-600 line-clamp-2\">\n              {item.description}\n            </p>\n          )}\n\n          {!item.is_available && (\n            <span className=\"inline-block mt-2 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700\">\n              Unavailable\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MenuPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,IAAK,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC5B,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACgB,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAE;AAClD,KAAM,CAACkB,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAE;AACtD,KAAM,CAACoB,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAAE;AACtD,KAAM,CAACsB,aAAa,CAAEC,gBAAgB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAAE;AACxD,KAAM,CAACwB,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC0B,KAAK,CAAEC,QAAQ,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC4B,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAC8B,UAAU,CAAEC,aAAa,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAEhD,KAAM,CAAAgC,aAAa,CAAG9B,WAAW,CAAC,SAAY,CAC5C,GAAI,CACFuB,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAA7B,OAAO,CAAC8B,OAAO,CAACrB,IAAI,CAAC,CAE5C,GAAIoB,QAAQ,CAACE,OAAO,CAAE,CACpBpB,aAAa,CAACkB,QAAQ,CAACnB,UAAU,CAAC,CAClCG,aAAa,CAACgB,QAAQ,CAACjB,UAAU,CAAC,CAClCG,eAAe,CAACc,QAAQ,CAACf,YAAY,EAAI,CAAC,CAAC,CAAC,CAC5CK,gBAAgB,CAACU,QAAQ,CAACX,aAAa,EAAI,EAAE,CAAC,CAC9C;AACA,GAAI,CACF,KAAM,CAAAc,GAAG,CAAG,KAAM,CAAAC,KAAK,uDAAAC,MAAA,CAAuDL,QAAQ,CAACnB,UAAU,CAACyB,EAAE,CAAE,CAAC,CACvG,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7B,GAAID,IAAI,EAAIA,IAAI,CAACL,OAAO,CAAE,CACxBd,eAAe,CAACqB,KAAK,CAACC,OAAO,CAACH,IAAI,CAACxB,UAAU,CAAC,CAAGwB,IAAI,CAACxB,UAAU,CAAG,EAAE,CAAC,CACxE,CACF,CAAE,MAAO4B,CAAC,CAAE,CAAC,CACf,CAAC,IAAM,CACLjB,QAAQ,CAACM,QAAQ,CAACY,OAAO,EAAI,qBAAqB,CAAC,CACrD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZnB,QAAQ,CAACmB,GAAG,CAACD,OAAO,EAAI,qBAAqB,CAAC,CAChD,CAAC,OAAS,CACRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACZ,IAAI,CAAC,CAAC,CAEVZ,SAAS,CAAC,IAAM,CACd+B,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAEnB,GAAIR,OAAO,CAAE,CACX,mBAAOf,IAAA,CAACH,cAAc,GAAE,CAAC,CAC3B,CAEA,GAAIoB,KAAK,CAAE,CACT,mBAAOjB,IAAA,CAACF,YAAY,EAACsC,OAAO,CAAEnB,KAAM,CAAE,CAAC,CACzC,CAEA,GAAI,CAACZ,UAAU,CAAE,CACf,mBAAOL,IAAA,CAACF,YAAY,EAACsC,OAAO,CAAC,sBAAsB,CAAE,CAAC,CACxD,CAEA;AACA,KAAM,CAAAE,cAAc,CAAG,CACrB,UAAU,CAAE,sEAAsE,CAClF,YAAY,CAAE,yEAAyE,CACvF,WAAW,CAAE,sEAAsE,CACnF,QAAQ,CAAE,yEAAyE,CACnF,WAAW,CAAE,sEAAsE,CACnF,UAAU,CAAE,yEACd,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,GAAI,CAACpB,gBAAgB,CAAE,MAAO,EAAE,CAChC,KAAM,CAAAqB,KAAK,CAAGjC,UAAU,CAACY,gBAAgB,CAAC,EAAI,EAAE,CAChD,GAAI,CAACE,UAAU,CAAE,MAAO,CAAAmB,KAAK,CAC7B,MAAO,CAAAA,KAAK,CAACC,MAAM,CAACC,IAAI,EACtBA,IAAI,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACxB,UAAU,CAACuB,WAAW,CAAC,CAAC,CAAC,EAC1D,CAACF,IAAI,CAACI,WAAW,EAAI,EAAE,EAAEF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACxB,UAAU,CAACuB,WAAW,CAAC,CAAC,CAC1E,CAAC,CACH,CAAC,CAED,KAAM,CAAAG,aAAa,CAAGR,gBAAgB,CAAC,CAAC,CAExC,mBACErC,KAAA,QAAK8C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCjD,IAAA,CAACJ,gBAAgB,EAACS,UAAU,CAAEA,UAAW,CAAE,CAAC,cAE5CL,IAAA,QAAKgD,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAClD,CAAC9B,gBAAgB,cAChB,wBACAjB,KAAA,QAAK8C,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjD,IAAA,OAAIgD,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACtFjD,IAAA,QAAKgD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpC,CAACpC,aAAa,CAACqC,MAAM,CAAGrC,aAAa,CAACsC,GAAG,CAACR,IAAI,GAAK,CAAEA,IAAK,CAAC,CAAC,CAAC,CAAIhC,YAAY,CAACuC,MAAM,CAAGvC,YAAY,CAAGyC,MAAM,CAACC,IAAI,CAAC9C,UAAU,CAAC,CAAC4C,GAAG,CAACR,IAAI,GAAK,CAAEA,IAAK,CAAC,CAAC,CAAE,EAAEQ,GAAG,CAAEG,GAAG,EAAK,CACpK,KAAM,CAAAC,YAAY,CAAGD,GAAG,CAACX,IAAI,EAAIW,GAAG,CACpC,KAAM,CAAAd,KAAK,CAAGjC,UAAU,CAACgD,YAAY,CAAC,EAAI,EAAE,CAC5C,KAAM,CAAAC,OAAO,CAAG/C,YAAY,CAAC8C,YAAY,CAAC,EAAI,CAAC,CAAC,CAChD,KAAM,CAAAE,QAAQ,CAAIH,GAAG,CAACI,SAAS,EAAIF,OAAO,CAACE,SAAS,EAAIpB,cAAc,CAACiB,YAAY,CAACX,WAAW,CAAC,CAAC,CAAC,EAAI,sEAAuE,CAC7K,mBACE1C,KAAA,WAEEyD,OAAO,CAAEA,CAAA,GAAMvC,mBAAmB,CAACmC,YAAY,CAAE,CACjDP,SAAS,CAAC,wGAAwG,CAAAC,QAAA,eAGlHjD,IAAA,QAAK4D,GAAG,CAAEH,QAAS,CAACI,GAAG,CAAEN,YAAa,CAACP,SAAS,CAAC,iDAAiD,CAACc,OAAO,CAAGC,CAAC,EAAG,CAACA,CAAC,CAACC,aAAa,CAACJ,GAAG,CAAC,sEAAsE,CAAC,CAAE,CAAE,CAAC,cAElN5D,IAAA,QAAKgD,SAAS,CAAC,mCAAmC,CAAE,CAAC,cAErDhD,IAAA,QAAKgD,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrE/C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BjD,IAAA,QAAKgD,SAAS,CAAC,4DAA4D,CAACiB,KAAK,CAAE,CAACC,UAAU,CAAC,6BAA6B,CAAE,CAAAjB,QAAA,CAAEM,YAAY,CAAM,CAAC,cACnJrD,KAAA,QAAK8C,SAAS,CAAC,2CAA2C,CAAAC,QAAA,EAAET,KAAK,CAACU,MAAM,CAAC,GAAC,CAACV,KAAK,CAACU,MAAM,GAAK,CAAC,CAAG,MAAM,CAAG,OAAO,EAAM,CAAC,EACpH,CAAC,CACH,CAAC,GAdDK,YAeC,CAAC,CAEb,CAAC,CAAC,CACC,CAAC,EACH,CAAC,cAEN,qBACArD,KAAA,QAAK8C,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB/C,KAAA,QAAK8C,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3C/C,KAAA,WACEyD,OAAO,CAAEA,CAAA,GAAM,CAAEvC,mBAAmB,CAAC,IAAI,CAAC,CAAEE,aAAa,CAAC,EAAE,CAAC,CAAE,CAAE,CACjE0B,SAAS,CAAC,mGAAmG,CAAAC,QAAA,eAE7GjD,IAAA,SAAMgD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cAClCjD,IAAA,SAAMgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,EACrC,CAAC,cACTjD,IAAA,OAAIgD,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAAE9B,gBAAgB,CAAK,CAAC,EACpH,CAAC,cAGNjB,KAAA,QAAK8C,SAAS,CAAC,0FAA0F,CAAAC,QAAA,eACvGjD,IAAA,QAAKgD,SAAS,CAAC,uBAAuB,CAACmB,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAApB,QAAA,cAC1FjD,IAAA,SAAMsE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,6CAA6C,CAAE,CAAC,CAClH,CAAC,cACNzE,IAAA,UACE0E,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,QAAQ,CACpBC,KAAK,CAAEvD,UAAW,CAClBwD,QAAQ,CAAGd,CAAC,EAAKzC,aAAa,CAACyC,CAAC,CAACe,MAAM,CAACF,KAAK,CAAE,CAC/C5B,SAAS,CAAC,mCAAmC,CAC9C,CAAC,EACC,CAAC,cAGNhD,IAAA,QAAKgD,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBF,aAAa,CAACG,MAAM,GAAK,CAAC,cACzBlD,IAAA,QAAKgD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDjD,IAAA,MAAGgD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,gBAAc,CAAG,CAAC,CAC5C,CAAC,CAENF,aAAa,CAACI,GAAG,CAAET,IAAI,eACrB1C,IAAA,CAAC+E,QAAQ,EAAerC,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACZ,EAAiB,CACtC,CACF,CACE,CAAC,EACH,CACN,CACE,CAAC,cAEN9B,IAAA,WAAQgD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACzDjD,IAAA,QAAKgD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1CjD,IAAA,QAAKgD,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B/C,KAAA,MAAG8C,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,aACxB,cAAAjD,IAAA,SAAMgD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EACxE,CAAC,CACD,CAAC,CACH,CAAC,CACA,CAAC,EACN,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAA8B,QAAQ,CAAGC,IAAA,EAAc,IAAb,CAAEtC,IAAK,CAAC,CAAAsC,IAAA,CACxB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAG3F,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAAkE,QAAQ,CAAGf,IAAI,CAACgB,SAAS,EAAI,EAAE,CACrC,KAAM,CAAAyB,QAAQ,CAAG1B,QAAQ,EAAI,CAACwB,UAAU,CAExC,mBACEjF,IAAA,QAAKgD,SAAS,CAAC,qGAAqG,CAAAC,QAAA,cAClH/C,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAE5BkC,QAAQ,cACPnF,IAAA,QACE4D,GAAG,CAAEH,QAAS,CACdI,GAAG,CAAEnB,IAAI,CAACC,IAAK,CACfK,SAAS,CAAC,iDAAiD,CAC3Dc,OAAO,CAAEA,CAAA,GAAMoB,aAAa,CAAC,IAAI,CAAE,CACnCnE,OAAO,CAAC,MAAM,CACf,CAAC,cAEFf,IAAA,QAAKgD,SAAS,CAAC,iHAAiH,CAAAC,QAAA,cAC9HjD,IAAA,QAAKgD,SAAS,CAAC,uBAAuB,CAACmB,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAApB,QAAA,cAC1FjD,IAAA,SAAMsE,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,GAAI,CAACC,CAAC,CAAC,2JAA2J,CAAE,CAAC,CAClO,CAAC,CACH,CACN,cAGDvE,KAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/C,KAAA,QAAK8C,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DjD,IAAA,OAAIgD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAEP,IAAI,CAACC,IAAI,CAAK,CAAC,cACtEzC,KAAA,SAAM8C,SAAS,CAAC,oDAAoD,CAAAC,QAAA,EAAC,QAAC,CAACmC,UAAU,CAAC1C,IAAI,CAAC2C,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EAC7G,CAAC,CAEL5C,IAAI,CAACI,WAAW,eACf9C,IAAA,MAAGgD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAC9CP,IAAI,CAACI,WAAW,CAChB,CACJ,CAEA,CAACJ,IAAI,CAAC6C,YAAY,eACjBvF,IAAA,SAAMgD,SAAS,CAAC,wFAAwF,CAAAC,QAAA,CAAC,aAEzG,CAAM,CACP,EACE,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9C,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}